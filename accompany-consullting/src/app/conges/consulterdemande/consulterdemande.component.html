<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.0.0/dist/css/bootstrap.min.css"
    integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
<mat-card>
    <div>

        <mat-toolbar color="accent">
            <mat-toolbar-row style="text-align: center;">
                <span style="margin-left: auto;margin-right: auto;color: aliceblue;text-align: center;">
                    <i class="fa fa-calendar" aria-hidden="true"></i> Demande de congé 
                </span>
            </mat-toolbar-row>
        </mat-toolbar>
        <br>


        <form>
           
                <div class="print-content">


            <mat-card>
                <mat-toolbar style="background-color: #5F9EA0; color:white;">
                    <mat-toolbar-row style="text-align: center;">
                        <span><i class="fa fa-info-circle"></i> Informations</span>
                    </mat-toolbar-row>
                </mat-toolbar>
                <br>

                <div class="row">
                    <div class="col">
                        <label for="demandeur">Demandeur: <i class="fa fa-user"></i> </label>
                        <input type="text" id="demandeur" value={{username}} disabled style="cursor: not-allowed;">


                        <label for="validateur">Validateur: <i class="fa fa-check"></i> </label>
                        <input type="text" id="validateur" value={{validateurname}} disabled style="cursor: not-allowed;">
                        <label for="demandeur"> Etat: <i class="fa fa-briefcase"></i> </label>
                        <input type="text" id="demandeur" value={{data.conge.etat}} disabled style="cursor: not-allowed; "
  [ngStyle]="{ 'background-color': getEtatColor(data.conge.etat) }">




                    </div>
                </div>
            </mat-card>
            <br>

            <mat-card>
                <mat-toolbar style="background-color: #5F9EA0; color:white;">
                    <mat-toolbar-row style="text-align: center;">
                        <span><i class="fa fa-hourglass"></i> Solde de congé actuel</span>
                    </mat-toolbar-row>
                </mat-toolbar>
                <br>

                <div class="row">
                    <div class="col">
                        

                        <label for="soldeConge" [ngClass]="{ 'text-danger': solde <= 0 }"> Solde de congé:</label>
                        <input type="text" id="soldeConge" [value]="solde" disabled [ngClass]="{ 'text-danger': solde <= 0 }">
                    
                        <label for="soldeMaladie" [ngClass]="{ 'text-danger': soldemaldie <= 0 }"> Solde de maladie:</label>
                        <input type="text" id="soldeMaladie" [value]="soldemaldie" disabled [ngClass]="{ 'text-danger': soldemaldie <= 0 }">
                    </div>
                </div>
            </mat-card>
            <br>

            <mat-card>
                <mat-toolbar style="background-color: #5F9EA0; color:white;">
                    <mat-toolbar-row style="text-align: center;">
                        <span><i class="fa fa-calendar"></i> Période de congé</span>
                    </mat-toolbar-row>
                </mat-toolbar>
                <br>

                <div class="row">
                    <div class="col">
                        <label for="dateDebut"> Date de début:</label>
                        <input type="text" id="dateDebut" value="{{datedebut| date:'dd-MM-yyyy'}}"disabled style="cursor: not-allowed;">

                        <label for="dateFin"> Date de fin:</label>
                        <input type="text" id="dateFin" value="{{datefin| date:'dd-MM-yyyy'}}"disabled style="cursor: not-allowed;">

                        <label for="demandeur"><i class="fa fa-clock-o"></i> Durée:</label>

                        <input type="text" id="dateFin" value="{{data.conge.duree}}"disabled style="cursor: not-allowed;">
                        
                    </div>
                </div>
            </mat-card>
            <br>

            <mat-card>
                <mat-toolbar style="background-color: #5F9EA0; color:white;">
                    <mat-toolbar-row style="text-align: center;">
                        <span><i class="fa fa-list-alt"></i> Congés Exceptionnels </span>
                    </mat-toolbar-row>
                </mat-toolbar>
                <br>
                <div class="row">
                    <div class="col">
                        <label for="dateDebut"> type de congé:</label>
                 
                    <input type="text" id="congesMaladie" name="type" value={{data.conge.type}} disabled style="cursor: not-allowed;">

                        <div *ngIf="data.conge.type == 'Congés Maladie'">
 <div id="cid_51" class="form-input-wide" data-layout="full">
                    <button mat-raised-button class="btn btn-primary btn-sm" (click)="togglePdfViewer()" style="background-color: #4974e0; color: #ecedf3;">
                    Consulter certif     </button>
                    
                    
                   </div>  
                   <div *ngIf="showPdf">
                    <iframe [src]="pdfUrl" width="100%" height="500px"></iframe>
                  </div>
                  
                </div>
                        
                    </div>
                </div>
            </mat-card>

</div>

<footer>

            <div class="row col-12 justify-content-center mb-4" style="margin-top: 2em;">
                <div class="btn-group" role="group">
                    <button class="mr-2" mat-button mat-button mat-raised-button  color="accent" style=" color: azure;" *ngIf="data.consulterby === 'bydemandeur' && data.conge.etat === 'pas envoyer'" (click)="envoyer()">
                        <i class="fa fa-paper-plane"></i> Envoyer la demande
                      </button>
                  <button class="mr-2" mat-button mat-raised-button style="background-color: #f95959; color: azure;" *ngIf="data.consulterby === 'bydemandeur' && (data.conge.etat === 'pas envoyer' || data.conge.etat === 'En attente')" (click)="annulerDemande(data.conge)">
                  <mat-icon>cancel</mat-icon> Annuler
                  </button>
                  

                  <button class="mr-2" mat-button mat-button mat-raised-button style="background-color: #42b883; color: azure;"  *ngIf="data.consulterby === 'byvalidateur'"(click)="valider(data.conge,soldemaldie,solde)">
                    <mat-icon>check_circle_outline</mat-icon>
                    Valider
                  </button>
                  <button class="mr-2" mat-button mat-raised-button style="background-color: #f95959; color: azure;" *ngIf="data.consulterby === 'byvalidateur'"(click)="annulerDemande(data.conge)">
                    <mat-icon>highlight_off</mat-icon>
                    Refuse
                  </button>
                  <button class="mr-2" mat-button color="accent" style="background-color: #090909; color: azure;"(click)="retour()">
                    <mat-icon>input</mat-icon>
                    Retour à la liste
                   </button>


                   <button class="mr-2" mat-button mat-raised-button style="background-color: #007bff; color: azure;" *ngIf="data.consulterby === 'byrh'"(click)="imprimer()">
                    <mat-icon>print</mat-icon>
                    Imprimer
                  </button>



                  <button class="mr-2" mat-button mat-raised-button style="background-color: #096549; color: azure;" *ngIf="data.consulterby === 'byrh' && data.conge.etat=='valider'"(click)="validerrh(data.conge,soldemaldie,solde)">
                    <mat-icon>check_circle_outline</mat-icon>
                    Valider
                  </button>
                </div>
              </div>
              
            </footer>
        </form>
    </div>
</mat-card>