<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.0.0/dist/css/bootstrap.min.css" integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">

<mat-card>
    <div class="p-20 bg-info position-relative">
        <h4 class="card-title text-white m-0">Liste des consultants </h4>
   
            <div class="search-container">
                <mat-form-field appearance="fill">
                  <mat-label>Rechercher un consultant</mat-label>
                  <input matInput placeholder="Nom ou prÃ©nom de consultant" [(ngModel)]="searchTerm" (keyup)="onSearch()">
                  <button mat-button matSuffix mat-icon-button aria-label="Clear" *ngIf="searchTerm" (click)="clearSearchTerm()">

                    <mat-icon>close</mat-icon>
                  </button>
                </mat-form-field>

        </div>

    </div>
    <br>

    <div class="row col-12">
        <div class="col-1">
            <button mat-raised-button color="primary" (click)="filterConsultantsByStatus('actif')">Actif</button>
        </div>
        <div class="col-1">
            <button mat-raised-button color="primary" (click)="filterConsultantsByStatus('inactif')">Inactif</button>
        </div>
        <div class="col-9">
            <button mat-raised-button color="primary" (click)="filterConsultantsByStatus('')">Tous</button>        </div>
    </div>
    
    
    
    
    
    
    
    
    
    
    <br>
    <br>
    <div class="row col-12">
        <div class="col-1">
            <button type="button" class="btn btn-outline-info" (click)="add()">Ajouter</button>        </div>
        <div class="col-1">
            <button type="button" class="btn btn-outline-info" (click)="onEdit()">Modifier</button>        </div>
        <div class="col-9">
            <button type="button" class="btn btn-outline-info" (click)="onconsulte()">Consulter</button>        </div>
    </div>
     
    <br><br>
    <div class="col-3 ">
        <button  class="text-white"style="background-color:rgb(226, 68, 68)  " (click)="pdf(type)">PDF <i class="fa fa-file-pdf-o"></i></button>


</div>
  
    <div>
        <br>
        <br>
        <div class="col-12">
            <table class="table mat-elevation-z8" style="width: 100%;" mat-table [dataSource]="filteredConsultants">
         

               <ng-container matColumnDef="select">
  <th mat-header-cell *matHeaderCellDef>select</th>
  <td mat-cell *matCellDef="let row">
    <mat-checkbox (click)="$event.stopPropagation()"
                  (change)="onConsultantSelectionChange($event, row)"
                  [checked]="selection.isSelected(row)">
    </mat-checkbox>
  </td>
</ng-container>





            <ng-container matColumnDef="nom prenom">
                <th mat-header-cell *matHeaderCellDef class="thead-info"> Nom &Prenom </th>
                <td mat-cell *matCellDef="let consultant">{{consultant.nom}} {{ consultant.prenom }} </td>
            </ng-container>
            <ng-container matColumnDef="status">
                <th mat-header-cell *matHeaderCellDef class="thead-info"> Status</th>
                <td mat-cell *matCellDef="let consultant"> {{ consultant.status}} </td>
            </ng-container>
            <ng-container matColumnDef="date_integration">
                <th mat-header-cell *matHeaderCellDef class="thead-info"> Date d'integration </th>
                <td mat-cell *matCellDef="let consultant"> {{ consultant.date_integration | date:'dd-MM-yyyy' }} </td>
            </ng-container>
<div class="col-3">
            <ng-container matColumnDef="grade">
                <th mat-header-cell *matHeaderCellDef class="thead-info"> Grade</th>
                <td mat-cell *matCellDef="let consultant"> {{ consultant.grade}} </td>
            </ng-container> </div>
            <tr mat-header-row *matHeaderRowDef="['select','nom prenom', 'status', 'date_integration','grade']"></tr>
  <tr mat-row *matRowDef="let row; columns: ['select','nom prenom', 'status', 'date_integration','grade'];"></tr>
        </table></div></div>
    
        <mat-paginator [length]="consultants.length"
        [pageSize]="pageSize"
        [pageIndex]="currentPage"
        [pageSizeOptions]="[1, 10, 20]"
        (page)="onPageChange($event)">
</mat-paginator>

    </mat-card>

