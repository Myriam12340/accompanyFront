<mat-card>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.0.0/dist/css/bootstrap.min.css"
        integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
 
    <mat-toolbar style="background-color: #5F9EA0; color:white;">
        <mat-toolbar-row style="text-align: center;">
            <span> Demandes de récupération</span>
        </mat-toolbar-row>
    </mat-toolbar>
    <br>
    <ng-container *ngIf="recups && recups.length > 0; else noRecups">

    <mat-toolbar style="background-color: #283fa4; color:white;">
        <mat-toolbar-row style="text-align: center;">
            <span> Les demandes  personnel <i class="fa fa-user-o" aria-hidden="true"></i>
            </span>
        </mat-toolbar-row>
    </mat-toolbar>
    <br>
 
      <br>
    <mat-table [dataSource]="recups">
    
        <ng-container matColumnDef="demandeur">
            <mat-header-cell *matHeaderCellDef> Demandeur</mat-header-cell>
            <mat-cell *matCellDef="let recup">{{ recup.demandeurnom }}</mat-cell>
        </ng-container>
    
        <ng-container matColumnDef="dateDebut">
            <mat-header-cell *matHeaderCellDef>Date de début</mat-header-cell>
            <mat-cell *matCellDef="let recup">{{ recup.dateDebut | date }}</mat-cell>
        </ng-container>
    
        <ng-container matColumnDef="dateFin">
            <mat-header-cell *matHeaderCellDef>Date de fin</mat-header-cell>
            <mat-cell *matCellDef="let recup">{{ recup.dateFin | date }}</mat-cell>
        </ng-container>
        <ng-container matColumnDef="duree">
            <mat-header-cell *matHeaderCellDef>Durée</mat-header-cell>
            <mat-cell *matCellDef="let recup">{{ recup.duree }}</mat-cell>
        </ng-container>
        <ng-container matColumnDef="etat">
            <mat-header-cell *matHeaderCellDef>Commentaire</mat-header-cell>
            <mat-cell *matCellDef="let recup">{{ recup.commentaire }}</mat-cell>
        </ng-container>
        <ng-container matColumnDef="type">
            <mat-header-cell *matHeaderCellDef> Type</mat-header-cell>
            <mat-cell *matCellDef="let recup">{{ recup.type }}</mat-cell>
        </ng-container>
        <ng-container matColumnDef="actions">
            <mat-header-cell *matHeaderCellDef>Actions</mat-header-cell>
            <mat-cell *matCellDef="let recup">
                <ng-container>
                   <div *ngIf="! recup.showInput ">
  <!-- Pour les demandes en attente -->
                    <button mat-button class="btn btn-outline-success mr-2" (click)="validateRequest(recup)">
                        <mat-icon>send</mat-icon> Valider
                    </button>
                   

                        
                    <button mat-button class="btn btn-outline-danger mr-2" (click)="rejectRequest(recup)">
                        <mat-icon>highlight_off</mat-icon> Rejeter
                    </button>


                  
</div>
                    <br>
      <div *ngIf="recup.showInput">                              <!-- ... -->
       
        <input type="number" [(ngModel)]="recup.joursValides" placeholder="Nombre de jours" >
       

    
<button mat-mini-fab color="primary"  (click)="confirmValidation(recup)">
    <mat-icon>task_alt</mat-icon>
</button>
<!-- ... --></div>   
               
                </ng-container>
            
             
            </mat-cell>
            
        </ng-container>
    
        <mat-header-row *matHeaderRowDef="[ 'demandeur','dateDebut', 'dateFin','duree', 'etat' ,'type','actions']"></mat-header-row>
        <mat-row *matRowDef="let row; columns: [ 'demandeur','dateDebut', 'dateFin', 'duree','etat','type','actions']"></mat-row>
    </mat-table>
</ng-container>
<ng-template #noRecups>
    <!-- ... Contenu à afficher si recups est vide ... -->
  </ng-template>
<br>  
<br> 

<ng-container *ngIf="groups && groups.length > 0; else noGroups">

<mat-toolbar style="background-color:#283fa4; color:white;">
    <mat-toolbar-row style="text-align: center;">
        <span>
            Les demandes de groupe <i class="fa fa-users" aria-hidden="true"></i> </span>
    </mat-toolbar-row>
</mat-toolbar>

    <mat-table [dataSource]="groups">
    
        <ng-container matColumnDef="demandeur">
            <mat-header-cell *matHeaderCellDef> Demandeur</mat-header-cell>
            <mat-cell *matCellDef="let recup">{{ recup.manager}}</mat-cell>
        </ng-container>
    
        <ng-container matColumnDef="dateDebut">
            <mat-header-cell *matHeaderCellDef>Date demande </mat-header-cell>
            <mat-cell *matCellDef="let recup">{{ recup.dateDemande | date }}</mat-cell>
        </ng-container>
    
        <ng-container matColumnDef="dateFin">
            <mat-header-cell *matHeaderCellDef>Nombre de consultants</mat-header-cell>
            <mat-cell *matCellDef="let recup">{{ recup.demandes.length }}</mat-cell>
        </ng-container>
     
        
       
        <ng-container matColumnDef="actions">
            <mat-header-cell *matHeaderCellDef>Actions</mat-header-cell>
            <mat-cell *matCellDef="let recup">
                <ng-container>
                  
  <!-- Pour les demandes en attente -->
                    <button mat-button class="btn btn-outline-success mr-2" (click)="Consulter(recup.demandes,recup.manager,recup.numeroDemande,recup.dateDemande)">
                        <mat-icon>send</mat-icon> Consulter
                    </button>
                   

                        
                

                    <br>
      <div *ngIf="recup.showInput">                              <!-- ... -->
       
        <input type="number" [(ngModel)]="recup.joursValides" placeholder="Nombre de jours" >
       

    
<button mat-mini-fab color="primary"  (click)="confirmValidation(recup)">
    <mat-icon>task_alt</mat-icon>
</button>
<!-- ... --></div>   
               
                </ng-container>
            
             
            </mat-cell>
            
        </ng-container>
    
        <mat-header-row *matHeaderRowDef="[ 'demandeur','dateDebut', 'dateFin','actions']"></mat-header-row>
        <mat-row *matRowDef="let row; columns: [ 'demandeur','dateDebut', 'dateFin','actions']"></mat-row>
    </mat-table>
</ng-container>
<ng-template #noGroups>
  <!-- ... Contenu à afficher si groups est vide ... -->
</ng-template>


<ng-container *ngIf="(recups && recups.length > 0) || (groups && groups.length > 0); else noData">
</ng-container>


<ng-template #noData>
    <div class="no-data-container">
      <mat-icon class="icon">info</mat-icon>
      <h1 class="message">Aucune demande en ce moment</h1>
    
    </div>
  </ng-template>
  <br><br>

</mat-card>